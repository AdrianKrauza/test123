"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[103],{2103:function(e,t,n){n.r(t),n.d(t,{default:function(){return O}});var o=n(5893),r=n(2283),a=n(9163),c=(n(7237),n(6486)),i=n.n(c),l=n(7294),u=n(4942);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=a.ZP.option.withConfig({displayName:"inputType__StyledOption",componentId:"sc-160kz5e-0"})(["width:100%;padding:0px 30px 0px 1rem;font-weight:400;cursor:pointer;outline:0px;border:1px solid rgb(227,233,243);border-radius:2px;color:rgb(51,55,64);background-color:rgb(255,255,255);appearance:none;"]),d=function(e){var t=e.value,n=e.name,r=e.register,a=e.type,c=e.as;return(0,o.jsx)("input",s({className:"shadow text-lg appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:t,placeholder:t,step:"0.01",type:a,as:c},r(n)))},f={image:function(e,t,n){return(0,o.jsx)("div",{onClick:function(){return n(!0)},children:"image Click"})},color:function(e,t){var n=e.value,r=e.name;return(0,o.jsx)("input",s({defaultValue:n||"#515151",type:"color"},t(r)))},number:function(e,t){var n=e.value,r=e.name;return(0,o.jsx)(d,s(s({},{value:n,name:r,register:t}),{},{type:"number"}))},textarea:function(e,t){var n=e.value,r=e.name;return(0,o.jsx)("textarea",s({className:"shadow text-lg appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",defaultValue:n,placeholder:n},t(r)))},margin:function(e,t){var n=e.value,r=e.name;return(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)(d,s(s({value:null===n||void 0===n?void 0:n.split(" ")[0]},{register:t}),{},{name:"".concat(r,".top"),type:"text"})),(0,o.jsx)(d,s(s({value:null===n||void 0===n?void 0:n.split(" ")[1]},{register:t}),{},{name:"".concat(r,".right"),type:"text"})),(0,o.jsx)(d,s(s({value:null===n||void 0===n?void 0:n.split(" ")[2]},{register:t}),{},{name:"".concat(r,".bottom"),type:"text"})),(0,o.jsx)(d,s(s({value:null===n||void 0===n?void 0:n.split(" ")[3]},{register:t}),{},{name:"".concat(r,".left"),type:"text"}))]})},text:function(e,t){var n=e.value,r=e.name;return(0,o.jsx)(d,s(s({},{value:n,name:r,register:t}),{},{type:"text"}))},select:function(e,t){var n=e.value,r=e.selectItem,a=e.name;return(0,o.jsx)("select",s(s({className:"shadow text-lg border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},t(a)),{},{defaultValue:n,children:r.map((function(e){return(0,o.jsx)(m,{value:e,children:e})}))}))}},x=n(8172),g=n(8293),v=n.n(g),b=n(3540),y=Object.values(b.Z).map((function(e){return e.reduce((function(e,t){var n=t.name,o=t.defaultValue;return v().str(n,o,e)}),{})})),h=function(e,t,n,o){var r=(0,x.ZP)(o,(function(t){_.forIn(t.component,(function(n,o){var r=e[o];if("margin"===o){var a=r,c=a.top,i=a.left,l=a.bottom,u=a.right;r="".concat(c||""," ").concat(u||""," ").concat(l||""," ").concat(i||"").trim()}t.component[o]=r||null})),"page-builder.custom-component"===t.component.__component&&(t.component.text=Array(b.I[t.component.type].text).fill(_.find(y,{__component:"page-builder.text"})),t.component.media=Array(b.I[t.component.type].media).fill(_.find(y,{__component:"page-builder.image"})))}));console.log(r),n(r);t((function(e){return function(e){return(0,x.ZP)(e,(function(e){o.type?e.pageBuilder[o.index][o.type][o.typeIndex]=r.component:e.pageBuilder[o.index]=r.component}))}(e)}))},j=function(e){return b.Z[e.__component].map((function(t){var n=t.name,o=t.type,r=t.selectItem;return function(e,t,n,o){return{name:e,type:t,value:n,selectItem:o}}(n,o,v().pick(n,e)||null,r)}))},w=a.ZP.form.withConfig({displayName:"form__StyledForm",componentId:"sc-13mcrf9-0"})(["height:100vh;position:fixed;z-index:10;right:0;"]);function O(e){var t=e.activeComponent,n=e.setPageData,a=e.setActiveGallery,c=e.setActiveComponent,u=e.pageData,p=(0,r.cI)(),s=p.register,m=p.handleSubmit,d=p.reset;(0,l.useEffect)((function(){return d(t.component)}),[t]);var x=j(t.component);return console.log(t),(0,o.jsxs)(w,{className:"max-w-sm bg-white p-5",onSubmit:m((function(e){return h(e,n,c,t,u)})),children:["page-builder.custom-component"===t.component.__component&&t.component.text.map((function(e,n){var r=i().assign({},e);return r.__component="page-builder.text",(0,o.jsx)("div",{className:"mb-4",children:(0,o.jsx)("div",{onClick:function(){return c({component:r,index:t.index,type:"text",typeIndex:n})},className:"block text-gray-700 text-lg font-bold mb-2",children:r.__component})})})),"page-builder.custom-component"===t.component.__component&&t.component.media.map((function(e,n){var r=i().assign({},e);return r.__component="page-builder.image",(0,o.jsx)("div",{className:"mb-4",children:(0,o.jsx)("div",{onClick:function(){return c({component:r,index:t.index,type:"media",typeIndex:n})},className:"block text-gray-700 text-lg font-bold mb-2",children:r.__component})})})),null===x||void 0===x?void 0:x.map((function(e){if(!i().includes(["templateItems","__component"],e.name))return(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-gray-700 text-lg font-bold mb-2",children:e.name}),f[e.type](e,s,a)]})})),(0,o.jsx)("input",{type:"submit"})]})}}}]);